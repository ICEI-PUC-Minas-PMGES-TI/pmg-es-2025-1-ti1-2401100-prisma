<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DivulgaHub - Cadastrar Novo Evento</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Borda vermelha para campos inválidos */
        .erro {
            border: 2px solid red !important;
            outline: none;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>DivulgaHub - CADASTRO DE EVENTOS</h1>
            <button class="back-button" onclick="history.back()">Voltar</button>
        </header>

        <nav class="botoes-middle">
            <a href="../joao-heleno/event-search.html" class="nav-button eventos">Eventos</a>
            <a href="../pedro-rocha-resende/mapa.html" class="nav-button mapa-eventos">Mapa de Eventos</a>
             <a href="../joao-tolentino/cad_usuarios.html" class="nav-button mapa-eventos">Cadastro de Usúario</a>
            <a href="cad_artistas.html" class="nav-button comunidade">Comunidade</a>
            <a href="meu-perfil.html" class="nav-button meu-perfil">Meu Perfil</a>
        </nav>

        <h2 class="subtitulo-pagina1">Cadastrar Novo Evento</h2>
        <form class="conj-campos" id="evento-form">
            <input type="text" id="titulo" name="titulo" placeholder="Título do evento" required>
            <input type="text" id="local" name="local" placeholder="Local" required>
            <input type="text" id="preco" name="preco" placeholder="Preço" required>
            <input type="text" id="tipo" name="tipo" placeholder="Tipo de Evento" required>
            <input type="text" id="artistas" name="artistas" placeholder="Artistas" required>
            <input type="text" id="promotor" name="promotor" placeholder="Promotor Do Evento" required>
            <button type="submit" class="submit-button">Cadastrar</button>
        </form>
    </div>

    <script>
        const form = document.getElementById('evento-form');
        const campos = {
            titulo: document.getElementById('titulo'),
            local: document.getElementById('local'),
            preco: document.getElementById('preco'),
            tipo: document.getElementById('tipo'),
            artistas: document.getElementById('artistas'),
            promotor: document.getElementById('promotor'),
        };

        // Máscara para o campo de Preço (R$ 0,00)
        campos.preco.addEventListener('input', function (e) {
            let valor = e.target.value.replace(/\D/g, '');
            if (valor.length < 3) {
                valor = valor.padStart(3, '0');
            }
            valor = (parseInt(valor, 10) / 100).toFixed(2);
            valor = valor.replace('.', ',');
            valor = 'R$ ' + valor.replace(/\B(?=(\d{3})+(?!\d))/g, '.');
            e.target.value = valor;
        });

        // Validação e estilo de erro
        form.addEventListener('submit', function (e) {
            let valid = true;

            // Limpa estilos antigos
            for (const campo in campos) {
                campos[campo].classList.remove('erro');
            }

            if (campos.titulo.value.trim().length < 3) {
                campos.titulo.classList.add('erro');
                campos.titulo.focus();
                valid = false;
            }

            if (campos.local.value.trim() === '') {
                campos.local.classList.add('erro');
                if (valid) campos.local.focus();
                valid = false;
            }

            if (campos.preco.value.trim() === '') {
                campos.preco.classList.add('erro');
                if (valid) campos.preco.focus();
                valid = false;
            }

            if (campos.tipo.value.trim() === '') {
                campos.tipo.classList.add('erro');
                if (valid) campos.tipo.focus();
                valid = false;
            }

            if (campos.artistas.value.trim() === '') {
                campos.artistas.classList.add('erro');
                if (valid) campos.artistas.focus();
                valid = false;
            }

            if (campos.promotor.value.trim() === '') {
                campos.promotor.classList.add('erro');
                if (valid) campos.promotor.focus();
                valid = false;
            }

            if (!valid) {
                e.preventDefault();
            }
        });

        // Remove borda vermelha ao digitar
        for (const campo in campos) {
            campos[campo].addEventListener('input', function () {
                if (this.value.trim() !== '') {
                    this.classList.remove('erro');
                }
            });
        }
    </script>
</body>
</html>
