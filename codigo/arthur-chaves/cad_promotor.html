<!DOCTYPE html>
<html lang="pt-BR">
    <link rel="stylesheet" href="style.css">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>DivulgaHub - Cadastrar Novo Promotor de Eventos</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div class="container">
            <!-- ------------------- Navegação entre paginas e cabeçalho------------------- -->
            <header>
                <h1>DivulgaHub</h1>
                <button class="back-button">Voltar</button>
            </header>
            <nav class="botoes-middle">
                <a href="../joao-heleno/event-search.html" class="nav-button eventos">Eventos</a>
                <a href="../mateus-armani/cad_eventos.html" class="nav-button cadastrar-evento">Cadastro de Eventos</a>
                <a href="../joao-tolentino/cad_usuarios.html" class="nav-button cadastrar-usuario">Cadastrar Usuário</a>
                <a href="../arthur-chaves/cad_promotor.html" class="nav-button cadastrar-promotor">Cadastrar Promotor</a>
                <a href="cad_artistas.html" class="nav-button comunidade">Cadastrar Artista</a>
                <a href="meu-perfil.html" class="nav-button meu-perfil">Meu Perfil</a>            
            </nav>
            <!-- ------------------- Formulario de Cadastro Promotor ------------------- -->
            <h2 class="subtitulo-pagina1">Cadastrar Novo Promotor</h2>
            <form class="conj-campos" id="formulario">
                <input type="text" id="form-name" placeholder="Nome" required>
                <input type="text" id="form-email" placeholder="Email" required>
                <input type="text" id="form-tel" placeholder="Telefone" required>
                <input type="text" id="form-loc" placeholder="Localização" required>
                <select name="tipoPromotor" class="tipo-promotor" required>
                    <option value="">Individuo ou Empresa</option>
                    <option value="individuo">Individuo</option>
                    <option value="empresa">Empresa</option>
                  </select>
                <button type="submit" class="submit-button">Cadastrar</button>
            </form>
        
    </div>
    <!-- ------------------- Controle do campo de Telefone ------------------- -->
    <script>
        const telefone = document.getElementById("form-tel");
        telefone.addEventListener('input', function () {
        let valor = telefone.value.replace(/\D/g, ''); 

        if (valor.length > 11) {
            valor = valor.slice(0, 11); 
        }

        
        if (valor.length > 6) {
            telefone.value = `(${valor.slice(0, 2)}) ${valor.slice(2, 7)}-${valor.slice(7)}`;
        } else if (valor.length > 2) {
            telefone.value = `(${valor.slice(0, 2)}) ${valor.slice(2)}`;
        } else {
            telefone.value = `(${valor}`;
        }
    });
    </script>
    <!-- ------------------- Validação do Cadastro ------------------- -->
    <script>
        const form = document.getElementById("formulario");
        const nome = document.getElementById("form-name");
        const loc = document.getElementById("form-loc");
        const email = document.getElementById("form-email");  
        form.addEventListener('submit', function (submit){
            let teste = true;
            // TESTA O TAMANHO DO NOME
            if (nome.value.trim().length < 5) {
                alert('O nome deve ter pelo menos 5 caracteres.');
                nome.focus();  
                teste = false;  
            // TESTA SE TEM NUMERO NO NOME
            } else if (/\d/.test(nome.value.trim())) {
                alert('O nome não pode conter números.');
                nome.focus();
                teste = false;
            } 
            // TESTA SE O EMAIL É VALIDO
            const emailValido = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value.trim());
            if (!emailValido) {
                alert('Por favor, insira um e-mail válido.');
                email.focus();
                teste = false;
            }
            // TESTA O FORMATO DO TELEFONE
            const telefoneValido = /^\(\d{2}\) \d{5}-\d{4}$/.test(telefone.value.trim());
            if (!telefoneValido) {
                alert('O telefone deve estar no formato (XX) XXXXX-XXXX.');
                telefone.focus();
                teste = false;
            }
            // TESTE MUITO BASICO NA LOCALIZAÇÃO
            if (loc.value.trim().length < 3) {
                alert('A localização deve ter pelo menos 3 caracteres.');
                nome.focus();  
                teste = false;  
            }
            if (!teste) {
                submit.preventDefault();
            }
        })
    </script>
    </body>

    </html>